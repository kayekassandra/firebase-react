{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\estre\\\\Desktop\\\\website\\\\kayesokua\\\\react-firebase\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"C:\\\\Users\\\\estre\\\\Desktop\\\\website\\\\kayesokua\\\\react-firebase\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\estre\\\\Desktop\\\\website\\\\kayesokua\\\\react-firebase\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\estre\\\\Desktop\\\\website\\\\kayesokua\\\\react-firebase\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\estre\\\\Desktop\\\\website\\\\kayesokua\\\\react-firebase\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\estre\\\\Desktop\\\\website\\\\kayesokua\\\\react-firebase\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _defineProperty from \"C:\\\\Users\\\\estre\\\\Desktop\\\\website\\\\kayesokua\\\\react-firebase\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\estre\\\\Desktop\\\\website\\\\kayesokua\\\\react-firebase\\\\src\\\\components\\\\SignUp.js\";\nimport React, { Component } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { Button, Form, FormGroup, Label, Input, Alert } from \"reactstrap\";\nimport * as routes from \"../constants/routes\";\nimport { auth, db } from \"../firebase\";\n\nvar SignUpPage = function SignUpPage(_ref) {\n  var history = _ref.history;\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"div-flex\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"centered\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12\n    },\n    __self: this\n  }, \"Sign Up\"), React.createElement(SignUpForm, {\n    history: history,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13\n    },\n    __self: this\n  }))));\n}; //################### Sign Up Form ###################\n\n\nvar INITIAL_STATE = {\n  username: \"\",\n  email: \"\",\n  passwordOne: \"\",\n  passwordTwo: \"\",\n  error: null,\n  showingAlert: false\n}; //A Higher order function with prop name as key and the value to be assigned to\n\nvar byPropKey = function byPropKey(propertyName, value) {\n  return function () {\n    return _defineProperty({}, propertyName, value);\n  };\n};\n\nvar SignUpForm =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SignUpForm, _Component);\n\n  function SignUpForm() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SignUpForm);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SignUpForm)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = _objectSpread({}, INITIAL_STATE);\n\n    _this.onSubmit = function (event) {\n      var _this$state = _this.state,\n          username = _this$state.username,\n          email = _this$state.email,\n          passwordOne = _this$state.passwordOne;\n      var history = _this.props.history;\n      auth.doCreateUserWithEmailAndPassword(email, passwordOne) //it the above functions resolves, reset the state to its initial state values, otherwise, set the error object\n      .then(function (authUser) {\n        //creating a user in the database after the sign up through Firebase auth API\n        db.doCreateUser(authUser.user.uid, username, email).then(function () {\n          _this.setState(_objectSpread({}, INITIAL_STATE));\n\n          history.push(routes.HOME); //redirects to Home Page\n        }).catch(function (error) {\n          _this.setState(byPropKey(\"error\", error));\n\n          _this.timer(); //show alert message for some seconds\n\n        });\n      }).catch(function (err) {\n        _this.setState(byPropKey(\"error\", err));\n\n        _this.timer(); //show alert message for some seconds\n\n      });\n      event.preventDefault(); //prevents refreshing\n    };\n\n    _this.timer = function () {\n      _this.setState({\n        showingAlert: true\n      });\n\n      setTimeout(function () {\n        _this.setState({\n          showingAlert: false\n        });\n      }, 4000);\n    };\n\n    return _this;\n  }\n\n  _createClass(SignUpForm, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state2 = this.state,\n          username = _this$state2.username,\n          email = _this$state2.email,\n          passwordOne = _this$state2.passwordOne,\n          passwordTwo = _this$state2.passwordTwo,\n          error = _this$state2.error,\n          showingAlert = _this$state2.showingAlert; //a boolen to perform validation\n\n      var isInvalid = passwordOne !== passwordTwo || passwordOne === \"\" || email === \"\" || username === \"\";\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, showingAlert && React.createElement(Alert, {\n        color: \"danger\",\n        onLoad: this.timer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, error.message), React.createElement(Form, {\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"userName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \"Full Name\"), React.createElement(Input, {\n        type: \"username\",\n        name: \"username\",\n        id: \"userName\",\n        placeholder: \"John Doe\",\n        value: username,\n        onChange: function onChange(e) {\n          return _this2.setState(byPropKey(\"username\", e.target.value));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"exampleEmail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, \"Email\"), React.createElement(Input, {\n        type: \"email\",\n        name: \"email\",\n        id: \"exampleEmail\",\n        placeholder: \"user@gmail.com\",\n        value: email,\n        onChange: function onChange(e) {\n          return _this2.setState(byPropKey(\"email\", e.target.value));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"examplePassword1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, \"Password\"), React.createElement(Input, {\n        type: \"password\",\n        name: \"password\",\n        id: \"examplePassword1\",\n        placeholder: \"Password\",\n        value: passwordOne,\n        onChange: function onChange(e) {\n          return _this2.setState(byPropKey(\"passwordOne\", e.target.value));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"examplePassword2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, \"Confirm Password\"), React.createElement(Input, {\n        type: \"password\",\n        name: \"password\",\n        id: \"examplePassword2\",\n        placeholder: \"Confirm Password\",\n        value: passwordTwo,\n        onChange: function onChange(e) {\n          return _this2.setState(byPropKey(\"passwordTwo\", e.target.value));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(Button, {\n        disabled: isInvalid,\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, \"Sign Up\"))));\n    }\n  }]);\n\n  return SignUpForm;\n}(Component); //################### Sign Up Link ###################\n//used in the sign in when the user don't have an account registered yet\n\n\nvar SignUpLink = function SignUpLink() {\n  return React.createElement(\"div\", {\n    class: \"col-md-10\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    class: \"color-black text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  }, \"Don't have an account? \", React.createElement(Link, {\n    to: routes.SIGN_UP,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }, \"Sign Up\")));\n}; //exports\n\n\nexport default withRouter(SignUpPage); //using a HoC to get access to history\n\nexport { SignUpForm, SignUpLink }; // <form onSubmit={this.onSubmit}>\n//   <input\n//     value={username}\n//     onChange={e => this.setState(byPropKey(\"username\", e.target.value))}\n//     // onChange={e => this.onChange(\"username\", e.target.value)}\n//     type=\"text\"\n//     placeholder=\"Full Name\"\n//   />\n//   <input\n//     value={email}\n//     onChange={e => this.setState(byPropKey(\"email\", e.target.value))}\n//     type=\"text\"\n//     placeholder=\"Email Address\"\n//   />\n//   <input\n//     value={passwordOne}\n//     onChange={e =>\n//       this.setState(byPropKey(\"passwordOne\", e.target.value))\n//     }\n//     type=\"password\"\n//     placeholder=\"Password\"\n//   />\n//   <input\n//     value={passwordTwo}\n//     onChange={e =>\n//       this.setState(byPropKey(\"passwordTwo\", e.target.value))\n//     }\n//     type=\"password\"\n//     placeholder=\"Confirm Password\"\n//   />\n//   <button disabled={isInvalid} type=\"submit\">\n//     Sign Up\n//   </button>\n//   {error && <p>{error.message}</p>}\n// </form>","map":{"version":3,"sources":["C:\\Users\\estre\\Desktop\\website\\kayesokua\\react-firebase\\src\\components\\SignUp.js"],"names":["React","Component","Link","withRouter","Button","Form","FormGroup","Label","Input","Alert","routes","auth","db","SignUpPage","history","INITIAL_STATE","username","email","passwordOne","passwordTwo","error","showingAlert","byPropKey","propertyName","value","SignUpForm","state","onSubmit","event","props","doCreateUserWithEmailAndPassword","then","authUser","doCreateUser","user","uid","setState","push","HOME","catch","timer","err","preventDefault","setTimeout","isInvalid","message","e","target","SignUpLink","SIGN_UP"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { Button, Form, FormGroup, Label, Input, Alert } from \"reactstrap\";\n\nimport * as routes from \"../constants/routes\";\nimport { auth, db } from \"../firebase\";\n\nconst SignUpPage = ({ history }) => (\n  <div>\n    <div className=\"div-flex\">\n      <div>\n        <h1 className=\"centered\">Sign Up</h1>\n        <SignUpForm history={history} />\n      </div>\n    </div>\n  </div>\n);\n\n//################### Sign Up Form ###################\nconst INITIAL_STATE = {\n  username: \"\",\n  email: \"\",\n  passwordOne: \"\",\n  passwordTwo: \"\",\n  error: null,\n  showingAlert: false\n};\n\n//A Higher order function with prop name as key and the value to be assigned to\nconst byPropKey = (propertyName, value) => () => ({\n  [propertyName]: value\n});\n\nclass SignUpForm extends Component {\n  //defining state\n  state = {\n    ...INITIAL_STATE\n  };\n\n  // onChange = (propName, value) => {\n  //   this.setState({\n  //     [propName]: value\n  //   });\n  // };\n\n  onSubmit = event => {\n    const { username, email, passwordOne } = this.state;\n    const { history } = this.props;\n    auth\n      .doCreateUserWithEmailAndPassword(email, passwordOne)\n      //it the above functions resolves, reset the state to its initial state values, otherwise, set the error object\n      .then(authUser => {\n        //creating a user in the database after the sign up through Firebase auth API\n        db.doCreateUser(authUser.user.uid, username, email)\n          .then(() => {\n            this.setState({\n              ...INITIAL_STATE\n            });\n            history.push(routes.HOME); //redirects to Home Page\n          })\n          .catch(error => {\n            this.setState(byPropKey(\"error\", error));\n            this.timer(); //show alert message for some seconds\n          });\n      })\n      .catch(err => {\n        this.setState(byPropKey(\"error\", err));\n        this.timer(); //show alert message for some seconds\n      });\n\n    event.preventDefault(); //prevents refreshing\n  };\n\n  timer = () => {\n    this.setState({\n      showingAlert: true\n    });\n\n    setTimeout(() => {\n      this.setState({\n        showingAlert: false\n      });\n    }, 4000);\n  };\n\n  render() {\n    const {\n      username,\n      email,\n      passwordOne,\n      passwordTwo,\n      error,\n      showingAlert\n    } = this.state;\n    //a boolen to perform validation\n    const isInvalid =\n      passwordOne !== passwordTwo ||\n      passwordOne === \"\" ||\n      email === \"\" ||\n      username === \"\";\n\n    return (\n      <div>\n        {showingAlert && (\n          <Alert color=\"danger\" onLoad={this.timer}>\n            {error.message}\n          </Alert>\n        )}\n        <Form onSubmit={this.onSubmit}>\n          <FormGroup>\n            <Label for=\"userName\">Full Name</Label>\n            <Input\n              type=\"username\"\n              name=\"username\"\n              id=\"userName\"\n              placeholder=\"John Doe\"\n              value={username}\n              onChange={e =>\n                this.setState(byPropKey(\"username\", e.target.value))\n              }\n            />\n          </FormGroup>\n          <FormGroup>\n            <Label for=\"exampleEmail\">Email</Label>\n            <Input\n              type=\"email\"\n              name=\"email\"\n              id=\"exampleEmail\"\n              placeholder=\"user@gmail.com\"\n              value={email}\n              onChange={e => this.setState(byPropKey(\"email\", e.target.value))}\n            />\n          </FormGroup>\n          <FormGroup>\n            <Label for=\"examplePassword1\">Password</Label>\n            <Input\n              type=\"password\"\n              name=\"password\"\n              id=\"examplePassword1\"\n              placeholder=\"Password\"\n              value={passwordOne}\n              onChange={e =>\n                this.setState(byPropKey(\"passwordOne\", e.target.value))\n              }\n            />\n          </FormGroup>\n          <FormGroup>\n            <Label for=\"examplePassword2\">Confirm Password</Label>\n            <Input\n              type=\"password\"\n              name=\"password\"\n              id=\"examplePassword2\"\n              placeholder=\"Confirm Password\"\n              value={passwordTwo}\n              onChange={e =>\n                this.setState(byPropKey(\"passwordTwo\", e.target.value))\n              }\n            />\n          </FormGroup>\n\n          <div className=\"text-center\">\n            <Button disabled={isInvalid} type=\"submit\">\n              Sign Up\n            </Button>\n          </div>\n        </Form>\n      </div>\n    );\n  }\n}\n\n//################### Sign Up Link ###################\n//used in the sign in when the user don't have an account registered yet\nconst SignUpLink = () => (\n  <div class=\"col-md-10\">\n  <p class=\"color-black text-center\">\n    Don't have an account? <Link to={routes.SIGN_UP}>Sign Up</Link>\n  </p>\n  </div>\n);\n\n//exports\nexport default withRouter(SignUpPage); //using a HoC to get access to history\nexport { SignUpForm, SignUpLink };\n\n// <form onSubmit={this.onSubmit}>\n//   <input\n//     value={username}\n//     onChange={e => this.setState(byPropKey(\"username\", e.target.value))}\n//     // onChange={e => this.onChange(\"username\", e.target.value)}\n//     type=\"text\"\n//     placeholder=\"Full Name\"\n//   />\n//   <input\n//     value={email}\n//     onChange={e => this.setState(byPropKey(\"email\", e.target.value))}\n//     type=\"text\"\n//     placeholder=\"Email Address\"\n//   />\n//   <input\n//     value={passwordOne}\n//     onChange={e =>\n//       this.setState(byPropKey(\"passwordOne\", e.target.value))\n//     }\n//     type=\"password\"\n//     placeholder=\"Password\"\n//   />\n//   <input\n//     value={passwordTwo}\n//     onChange={e =>\n//       this.setState(byPropKey(\"passwordTwo\", e.target.value))\n//     }\n//     type=\"password\"\n//     placeholder=\"Confirm Password\"\n//   />\n//   <button disabled={isInvalid} type=\"submit\">\n//     Sign Up\n//   </button>\n\n//   {error && <p>{error.message}</p>}\n// </form>\n"]},"metadata":{},"sourceType":"module"}